<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <title>mod_qos - Glossary</title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
<meta name="author" content="Pascal Buchbinder" />
<meta name="KeyWords" content="Quality of Service, Apache Web Server, Web application security, WAF, Open Source Software, Denial of Service Prevention, DoS, DDoS" />
<link rel="shortcut icon" href="favicon.ico" />
<style TYPE="text/css">
<!--  
  body {
	background-color: white;
	color: black;
	font-family: sans-serif, arial, verdana;
	font-weight: normal;
	text-align: left;
  }
  a:link    { color:#00673F; text-decoration:none; }
  a:visited { color:#00673F; text-decoration:none; }
  a:focus   { color:black; text-decoration:underline; }
  a:hover   { color:black; text-decoration:underline; }
  a:active  { color:black; text-decoration:underline; }
  .btable   { font-size:0.75em; }
-->
</style>
</head>
<body>
<!--

 Quality of service module for Apache Web Server.

 See http://mod-qos.sourceforge.net/ for further details.

 Copyright (C) 2017 Pascal Buchbinder

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.
 The ASF licenses this file to You under the Apache License, Version 2.0
 (the "License"); you may not use this file except in compliance with
 the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

-->
<table>
<tbody>
<tr><td><a href="index.html"><img src="images/mod_qos_s.gif" alt="mod_qos" /></a></td>
    <td style="vertical-align: bottom;"><h1>Glossary</h1></td></tr>
<tr><td>&nbsp;</td>
    <td>


<p>
This page gives you additional information about certain aspects of 
<a href="index.html">mod_qos</a> to get a better understanding how 
to use the module.  
</p>

<hr>
<a name="variables"></a>
<h2>Environment Variables</h2>
<p>
The Apache web server provides a mechanism for storing information 
in so called <i>environment variables</i>. <a href="index.html">mod_qos</a> uses these 
variables to exchange data respectively signalize events between different 
<a href="#rules">rules defined by the corresponding directive</a>. These 
variables can also be written or read by other Apache modules, such as
<a href="http://modsetenvifplus.sourceforge.net/">mod_setenvifplus <img src="images/link.png"/></a>.
</p>
<p>It is also possible to write the values of these variables to your log
file using the format string <code>%{VARNAME}e</code> within the
<code><a href="http://httpd.apache.org/docs/2.2/mod/mod_log_config.html">TransferLog/CustomLog <img src="images/link.png"/></a></code>
directives. Or you can use them within error pages using
<a href="http://httpd.apache.org/docs/current/howto/ssi.html">server-side includes <img src="images/link.png"/></a> 
(SSI).
</p>


<hr>
<a name="directives"></a>
<h2>Directives</h2>
<p>
The module is configured by directives. All directives process the 
connection, HTTP request, and response data in a pre-defined sequence. 
The following graph shows the order in which the directives work.
</p>
<p>
<a href="images/mod_qos_seq.gif"><img src="images/mod_qos_seq.gif" height="335" width="458"/></a>
</p>

<hr>
<a name="limit"></a>
<h2>Limitation Counter</h2>
<p>
Limitation counters limit the number how often (Cr) something is allowed to 
happen in a certain amount of time (Td). These rules trigger a timer whenever
the defined event occurs the first time and start to count every subsequent event
until the timer expires. If the event counter reaches the defined limitation,
requests are getting blocked until the time is up.
</p>
<p>
    <img src="images/LimitCount.png" height="432" width="576"/>
</p>
<p>
The directives implementing this rule type are:
<ul>
<li><a href="index.html#QS_EventLimitCount"><code>QS_EventLimitCount</code></li>
<li><a href="index.html#QS_CondEventLimitCount"><code>QS_CondEventLimitCount</code></li>
<li><a href="index.html#QS_ClientEventLimitCount"><code>QS_ClientEventLimitCount</code></li>
<li><a href="index.html#QS_CondClientEventLimitCount"><code>QS_CondClientEventLimitCount</code></li>
<li><a href="index.html#QS_ClientEventBlockCount"><code>QS_ClientEventBlockCount</code></li>
</ul>
</p>

<hr>
<a name="rules"></a>
<h2>Rules</h2>
<p>
<a href="index.html">mod_qos</a> allows you to configure different kind of 
rules. Every rules implement a counter, measuring either the concurrency 
(how many times something happens at the same time), the <a href="#limit">occurrence </a>
(how often does something happen in a certain amount of time), or 
the throughput (sent amount of data or number of request).</p>
<p>
Every rule has it's own threshold and maintains its own counter
which is identified by either an URL pattern/matching string or by an 
<a href="#variables">environment variable name</a>. 
You can configure as many rules as you want. </p>
<p>
Some counters are only available once. This applies to the counters of
the rules using the
<code><a href="index.html#QS_Block">QS_Block</a></code>, 
<code><a href="index.html#QS_SrvSerialize">QS_SrvSerialize</a></code>, and 
<code><a href="index.html#QS_ClientSerialize">QS_ClientSerialize</a></code> 
environment variables.
</p>



<!--
counter per time
min data rate
  -->


</td></tr>
</tbody>
</table>
<br><br><br>
<hr>
<SMALL><SMALL>&copy; 2017, Pascal Buchbinder</SMALL></SMALL>
</body>
</html>
